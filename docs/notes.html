<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?..."></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
     <meta name="author" content="Rasmus Erik Voel Jensen"> 
     <meta name="dcterms.date" content="2017-01-01"> 
    
    <title>Notes (in progress) about P2P Web</title>
    <style type="text/css">code{white-space: pre;}</style>
    
    
    
    
    
    <style>
body {
  font-family: sans-serif;
}
.content {
  max-width: 66ex;
}
    </style>
  </head>
  <body>
    <div class=content>
                  <header>
        <h1 class="title">Notes (in progress) about P2P Web</h1>
                        <p class="author">Rasmus Erik Voel Jensen</p>
                        <p class="date">2017</p>
                        <h2>Abstract</h2>
        <p class="abstract"><p>Random ramblings and notes during the P2P Web.</p></p>
              </header>
                  <h1 id="presentation-notes">Presentation notes</h1>
<p>Purpose:</p>
<ul>
<li>Infrastructure for no-server HTML5 apps =&gt; a decentralized trustless computer for the web</li>
</ul>
<p>In short:</p>
<ul>
<li>Network topology: kademlia like, - address = hash of pubkey</li>
<li>State/storage: each node stores a neighbourhood around its own address, saved in blockchain merkeltree</li>
<li>Operations: changes to state are verifiable, and verified by nodes in neighbourhood</li>
<li>Balance: nodes gets paid for doing tasks for the network, and can use this to buy tasks in the network. Also pay/payout for state blockchain.</li>
<li>Tasks: stored, nodes assigned to tasks in deterministic random part of storage, proof-of-result stored, result stored, verification/value, balance updated.</li>
</ul>
<p>Additional notes:</p>
<ul>
<li>WebPlatform: computations in webassembly. WebRTC as transport (thus modified kademlia). Crypto-algorithms from crypto.subtle.</li>
<li>Neighbourhood size and amount of state per node - determined by node density (global minimum density / local density). Fixed amount of memory per node.</li>
<li>Mutable references in blockchain (using balance to keep alive)</li>
<li>Autonomous processes (using balance to keep alive)</li>
<li>Not entire blockchain stored, only parts needed by the node</li>
<li>Stake in computation tasks</li>
<li>Balance/trade between processes</li>
<li>Introduced 'errors' in blockchain, and bounties for finding/proving them.</li>
<li>Binary/Quad merkel tree for proofs</li>
<li>Pub/private-key derived from entropy source</li>
<li>Task types: computation, storage, storage-transfer, find node with certain data</li>
<li>Node trust / reliability proof via blockchain</li>
<li>Block-tree rather than chain</li>
<li>Computational task level of validation</li>
<li>Result safety: added to state by any node in neighbourhood by proof of distance of computing-node to task.</li>
<li>Computational task: computing time bound, and cost calculation.</li>
<li>consensus algorithm: CRDT, additional data in timeinterval: after last block, before timed signature from other deterministic random node</li>
<li>Tagged overlay network - opt-in part of infrastructure for tunable bandwidth requirements</li>
<li>Network simulation (core optimised for low memory)</li>
<li>Bandwidth optimised, - number of significant bits per node-id, stream compression, only send diffs etc.</li>
</ul>
<p>Explore/ideas:</p>
<ul>
<li>Performance characteristics of current WebRTC implementations</li>
<li>Performance effects of design choices for Kademlia-like algorithm on top of WebRTC (instead of UDP)</li>
<li>Verifiable &quot;computational&quot; tasks, and economy based &quot;computation&quot;.</li>
<li>(Survey p2p overlay networks)</li>
<li>WebRTC bootstrapping options (decentralised signalling server vs. actual node)</li>
<li>Infrastructure deployment - bootstrap-code + load signed version of code from network, - partly test within network before full deploy.</li>
</ul>
<p>Description of algorithm:</p>
<ul>
<li>nodes connected in kademlia-like structure</li>
<li>regular state snapshot (blockchain merkel-dag)
<ul>
<li>divide-and-conqueor consensus algorithm, verifying credit updates in neighbourhood.</li>
<li>each node stores the state of a neighbourhood around its own address, as well as the path to the root. The neighbourhood size is fixed for all, ensuring good redundancy of data for</li>
</ul></li>
<li>content of state
<ul>
<li>list of entities(nodes)
<ul>
<li>id</li>
<li>balance/credits (updated by work, tasks, cost of staying in blockchain, and transfers)</li>
<li>state (+ proof)</li>
<li>tasks - scheduled for execution - wager</li>
<li>result of previous scheduled task</li>
<li>work
<ul>
<li>stake</li>
<li>result</li>
<li>proof-of-work</li>
</ul></li>
<li>state</li>
</ul></li>
</ul></li>
<li>verifiable tasks</li>
<li>task types
<ul>
<li>computation</li>
<li>storage
<ul>
<li>data</li>
<li>key/value</li>
</ul></li>
<li>random verifications (of proof-of-stake tasks)</li>
<li>blockchain verification</li>
</ul></li>
<li>entities
<ul>
<li>nodes</li>
<li>nodes with stake</li>
<li>accounts (pub-key)</li>
<li>autonomous</li>
</ul></li>
<li>computational process
<ul>
<li>task gets stored in blockchain</li>
<li>task gets assigned to a number of bcrandom nodes</li>
<li>task gets done, and proof-of-work gets stored in the blockchain</li>
<li>task result gets released</li>
<li>result+proof-of-work get validated + signed into blockchain</li>
<li>balance is updated</li>
</ul></li>
</ul>
<p>Design criteria</p>
<ul>
<li>low bandwidth</li>
<li>low memory footprint (useful for large simulation, as well as embeded systems)</li>
<li>low code footprint</li>
<li>tagging of hosts</li>
<li>connect to arbitrary host</li>
<li>foundation for other p2p applications</li>
</ul>
<h1 id="brainstorm-around-potential-articles">Brainstorm around potential articles</h1>
<p>Possibly relevant conferences or journals</p>
<h1 id="relevant-litterature">Relevant Litterature</h1>
<ul>
<li><span class="citation">(Parno, Raykova, and Vaikuntanathan 2012)</span></li>
<li><span class="citation">(Kaune et al. 2008)</span></li>
<li><span class="citation">(Wood 2014)</span></li>
<li><span class="citation">(20ADa)</span></li>
<li><span class="citation">(20ADb)</span></li>
<li><span class="citation">(20ADc)</span></li>
<li><span class="citation">(20ADd)</span></li>
<li><span class="citation">(20ADe)</span></li>
<li><span class="citation">(20ADf)</span></li>
<li><span class="citation">(20ADg)</span></li>
<li><span class="citation">(20ADh)</span></li>
<li><span class="citation">(20ADi)</span></li>
<li><span class="citation">(20ADj)</span></li>
<li><span class="citation">(20ADk)</span></li>
<li><span class="citation">(20ADl)</span></li>
<li><span class="citation">(20ADm)</span></li>
<li><span class="citation">(Ben L. Titzer Michael Holman Dan Gohman Luke Wagner Alon Zakai JF Bastien 2017)</span></li>
</ul>
<p><a href="https://allquantor.at/blockchainbib/bibtex.html" class="uri">https://allquantor.at/blockchainbib/bibtex.html</a></p>
<h1 id="notes-for-later-optimised-version">Notes for later / optimised version</h1>
<ul>
<li>page size</li>
<li>typically 4K (getpagesize() is 4K on my linux, and that looks like common size via <a href="https://en.wikipedia.org/wiki/Page_%28computer_memory%29">https://en.wikipedia.org/wiki/Page_%28computer_memory%29</a>)</li>
<li>webassembly 64K page size</li>
<li>minimise memory usage (for ability to run large simulations).</li>
<li>i.e. 64K per nodes =&gt; 100K nodes in memory simulation ~ 6G memory</li>
</ul>
<h1 id="bibliography" class="unnumbered">Bibliography</h1>
<div id="refs" class="references">
<div id="ref-webassembly-2017">
<p>Ben L. Titzer Michael Holman Dan Gohman Luke Wagner Alon Zakai JF Bastien, Andreas Haas Andreas Rossberg Derek L. Schuff ∗. 2017. “Bringing the Web up to Speed with Webassembly.”</p>
</div>
<div id="ref-embracing-peer-next-door-kademlia-2008">
<p>Kaune, S., T. Lauinger, A. Kovacevic, and K. Pussep. 2008. “Embracing the Peer Next Door: Proximity in Kademlia.” In <em>2008 Eighth International Conference on Peer-to-Peer Computing</em>, 343–50. doi:<a href="https://doi.org/10.1109/P2P.2008.36">10.1109/P2P.2008.36</a>.</p>
</div>
<div id="ref-delegate-verify-public-verifiable-computing-2012">
<p>Parno, Bryan, Mariana Raykova, and Vinod Vaikuntanathan. 2012. “How to Delegate and Verify in Public: Verifiable Computation from Attribute-Based Encryption.” In <em>Theory of Cryptography: 9th Theory of Cryptography Conference, Tcc 2012, Taormina, Sicily, Italy, March 19-21, 2012. Proceedings</em>, edited by Ronald Cramer, 422–39. Berlin, Heidelberg: Springer Berlin Heidelberg. doi:<a href="https://doi.org/10.1007/978-3-642-28914-9_24">10.1007/978-3-642-28914-9_24</a>.</p>
</div>
<div id="ref-ethereum-yellowpaper-2014">
<p>Wood, Gavin. 2014. “Ethereum: A Secure Decentralised Generalised Transaction Ledger.” <em>Ethereum Project Yellow Paper</em>. <a href="http://bitcoinaffiliatelist.com/wp-content/uploads/ethereum.pdf" class="uri">http://bitcoinaffiliatelist.com/wp-content/uploads/ethereum.pdf</a>. <a href="http://bitcoinaffiliatelist.com/wp-content/uploads/ethereum.pdf" class="uri">http://bitcoinaffiliatelist.com/wp-content/uploads/ethereum.pdf</a>.</p>
</div>
<div id="ref-golem-whitepaper-2016">
<p>20ADa.</p>
</div>
<div id="ref-handling-churn-dht-2004">
<p>20ADb.</p>
</div>
<div id="ref-improving-lookup-kademlia-2010">
<p>20ADc.</p>
</div>
<div id="ref-ipfs-2014">
<p>20ADd.</p>
</div>
<div id="ref-kademlia-2002">
<p>20ADe.</p>
</div>
<div id="ref-noninteractive-verifiable-computing-2010">
<p>20ADf.</p>
</div>
<div id="ref-performance-chord-kademlia-churn-2014">
<p>20ADg.</p>
</div>
<div id="ref-performance-evaluation-kademlia-2010">
<p>20ADh.</p>
</div>
<div id="ref-pinoccchio-nearly-practical-verifiable-computing-2013">
<p>20ADi.</p>
</div>
<div id="ref-s-kademlia-2007">
<p>20ADj.</p>
</div>
<div id="ref-subsecond-lookup-kademlia-2011">
<p>20ADk.</p>
</div>
<div id="ref-survey-simulators-overlay-networks-2017">
<p>20ADl.</p>
</div>
<div id="ref-trustless-computing-what-not-how-2016">
<p>20ADm.</p>
</div>
</div>
          </div>
  </body>
</html>
