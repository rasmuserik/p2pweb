<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?..."></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
     <meta name="author" content="Rasmus Erik Voel Jensen"> 
     <meta name="dcterms.date" content="2017-01-01"> 
    
    <title>P2P Web README.md</title>
    <style type="text/css">code{white-space: pre;}</style>
    
    
    
    
    
    <style>
body {
  font-family: sans-serif;
}
.content {
  max-width: 66ex;
}
    </style>
  </head>
  <body>
    <div class=content>
                  <header>
        <h1 class="title">P2P Web README.md</h1>
                        <p class="author">Rasmus Erik Voel Jensen</p>
                        <p class="date">2017</p>
                      </header>
                  <p><img src=https://p2pweb.solsort.com/icon.png width=96 height=96 align=right></p>
<p><a href="https://p2pweb.solsort.com/"><img src="https://img.shields.io/badge/website-p2pweb.solsort.com-blue.svg" alt="website" /></a> <a href="https://github.com/solsort/p2pweb"><img src="https://img.shields.io/badge/github-solsort/p2pweb-blue.svg" alt="github" /></a> <a href="https://travis-ci.org/solsort/p2pweb"><img src="https://img.shields.io/travis/solsort/p2pweb.svg" alt="travis" /></a> <a href="https://coveralls.io/r/solsort/p2pweb?branch=master"><img src="https://img.shields.io/coveralls/solsort/p2pweb.svg" alt="coveralls" /></a> <a href="https://www.npmjs.com/package/p2pweb"><img src="https://img.shields.io/npm/v/p2pweb.svg" alt="npm" /></a></p>
<h1 id="p2p-web">P2P Web</h1>
<p>This is a library (<strong>under development</strong>) for building peer-to-peer web applications.</p>
<h2 id="design">Design</h2>
<ul>
<li>Connection
<ul>
<li><code>send(data)</code></li>
<li><code>close()</code></li>
<li><em>abstract</em> <code>onclose()</code></li>
<li><em>abstract</em> <code>onmessage(data)</code></li>
</ul></li>
<li>NetworkAbstraction (abstraction across websocket/webrtc/...)
<ul>
<li><code>startSignalling(signalConnection)</code></li>
<li><code>receiveSignalling(signalConnection)</code>
<ul>
<li><code>{websocket: url}</code></li>
</ul></li>
<li><em>abstract</em> <code>onconnection(resultConnection)</code></li>
</ul></li>
<li>Node
<ul>
<li><code>static async createNode(network)</code></li>
<li><code>String address</code> (const)</li>
<li><code>defaultTimeout = 5000</code></li>
<li><code>addHandler({type, fn, access='local'})</code>
<ul>
<li>fn: <code>[async(no-return-state)] {data, state, node} =&gt; {state, result}</code></li>
</ul></li>
<li><code>removeHandler(handlerId)</code></li>
<li><code>void emit({type, data, address=node.address, reply=undefined})</code></li>
<li><code>var async call({type, data, address=node.address, timeout=defaultTimeout})</code></li>
<li><code>Map connections[address]</code> (semi-private)</li>
<li><code>NetworkAbstraction network</code> (semi-private)
<ul>
<li><code>onconnection(con)</code> (semi-private)</li>
</ul></li>
</ul></li>
<li>message:
<ul>
<li><code>address</code></li>
<li><code>type</code></li>
<li><code>data</code></li>
<li><code>reply: [address, type]</code></li>
</ul></li>
</ul>
<h3 id="node">Node</h3>
<h2 id="old-notes">Old notes:</h2>
<ul>
<li><a href="https://p2pweb.solsort.com">Introduction/readme</a></li>
<li><a href="https://p2pweb.solsort.com/jsdoc">Code documentation</a></li>
<li><a href="https://github.com/solsort/p2pweb">Source code on github</a></li>
<li><a href="https://p2pweb.solsort.com/notes">Notes</a> (<a href="https://p2pweb.solsort.com/notes.pdf">pdf</a>)</li>
</ul>
          </div>
  </body>
</html>
